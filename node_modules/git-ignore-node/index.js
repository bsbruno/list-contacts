#! usr/bin/env node

const inquirer = require('inquirer');
const fs = require('fs');
const axios = require('axios');
// const path = require('path');

async function createGitignore() {
  const { data } = await axios.get('https://raw.githubusercontent.com/github/gitignore/master/Node.gitignore');
  fs.writeFileSync('.gitignore', data, (err) => {
    if (err) throw err;
  });
  console.log('Created gitignore for node.js project :)');
}

async function checkForGitignore() {
  try {
    if (fs.existsSync('.gitignore')) {
      const answers = await inquirer.prompt([{
        type: 'confirm',
        name: 'overWriteGitignore',
        message: '.gitignore file already exists. Would you like to overwrite it?',
        default: false,
      }]);
      if (answers.overWriteGitignore) {
        createGitignore();
      } else {
        return console.log('bye :(');
      }
    } else {
      createGitignore();
    }
  } catch (error) {
    console.error(error);
  }
}

checkForGitignore();
